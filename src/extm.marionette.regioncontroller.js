// Generated by CoffeeScript 1.7.1
var __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  __slice = [].slice;

define(['marionette', 'backbone', 'underscore'], function(Marionette, Backbone, _) {
  return Marionette.RegionController = (function(_super) {
    __extends(RegionController, _super);

    function RegionController(options) {
      this.region = options.region || msgbus.request("get:default:region");
      this.msgbus = msgbus;
      this.entities = {};
      RegionController.__super__.constructor.call(this, options);
    }

    RegionController.prototype.close = function() {
      var args;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      delete this.region;
      delete this.msgbus;
      delete this.request;
      delete this.execute;
      delete this.vent;
      return RegionController.__super__.close.call(this, args);
    };

    RegionController.prototype.requestFor = function(handle, args) {
      return this.msgbus.reqres.request(handle, args);
    };

    RegionController.prototype.showSubApp = function(handle, options) {
      return this.msgbus.commands.execute(handle, options);
    };

    RegionController.prototype.notify = function(message) {
      return this.msgbus.commands.execute("show:notification", message);
    };

    RegionController.prototype.addEntity = function(key, entity) {
      if (!_.isUndefine(key)) {
        throw new Error("This entity already exists in entities hash.");
      }
      return this.entities[key] = entity;
    };

    RegionController.prototype.createNewChannel = function(name) {
      if (name == null) {
        name = '';
      }
      return Backbone.Wreqr.radio.channel(name);
    };

    return RegionController;

  })(Marionette.Controller);
});
